(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-draw-UploadImage"],{"12a1":function(t,i){t.exports="data:image/png;base64,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"},3493:function(t,i,n){"use strict";n.r(i);var e=n("88af"),d=n("ee41");for(var o in d)["default"].indexOf(o)<0&&function(t){n.d(i,t,(function(){return d[t]}))}(o);var a=n("f0c5"),r=Object(a["a"])(d["default"],e["b"],e["c"],!1,null,"5e05922b",null,!1,e["a"],void 0);i["default"]=r.exports},"88af":function(t,i,n){"use strict";n.d(i,"b",(function(){return d})),n.d(i,"c",(function(){return o})),n.d(i,"a",(function(){return e}));var e={uniSteps:n("714a").default},d=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"center",width:"100%"}},[e("v-uni-image",{staticStyle:{width:"30px",position:"fixed",left:"10px","margin-top":"44px","z-index":"1","border-radius":"7px"},attrs:{src:n("12a1"),mode:"widthFix"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.back()}}}),e("v-uni-view",{staticStyle:{"margin-top":"30px",width:"90%"}},[e("uni-steps",{attrs:{options:t.list1,active:t.active}})],1)],1),e("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",height:"90vh"}},[e("v-uni-view",{staticStyle:{width:"100px",height:"50px",display:"flex","align-items":"center","background-color":"#40a9ff",color:"white","border-radius":"10px","font-size":"17px","justify-content":"center"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.chooseImage.apply(void 0,arguments)}}},[t._v("点击上传")]),e("v-uni-view",{staticStyle:{display:"flex","margin-top":"20px","font-size":"16px"}},[e("v-uni-text",[t._v("提示：")]),e("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column"}},[e("v-uni-text",[t._v("1、上传格式仅支持jpg、png")]),e("v-uni-text",[t._v("2、黑白照片的识别结果更好哦")])],1)],1)],1)],1)},o=[]},b80e:function(t,i,n){"use strict";n("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n("e61c"),d={data:function(){return{list1:[{title:"上传图片"},{title:"户型图编辑"},{title:"2D->3D"},{title:"3D装修"}],active:0,test_data:{msg:"户型识别检索成功",code:0,data:{code:0,data:{RoomTypes:[],Doors:[{start_point:98,end_point:103,host:74,id:114,category:0},{start_point:97,end_point:104,host:75,id:115,category:0},{start_point:99,end_point:105,host:79,id:116,category:0},{start_point:106,end_point:101,host:59,id:117,category:0},{start_point:108,end_point:100,host:60,id:118,category:0},{start_point:107,end_point:102,host:39,id:119,category:0},{start_point:113,end_point:110,host:96,id:120,category:2},{start_point:112,end_point:111,host:51,id:121,category:2}],scale:.07784288194444444,WallPoints:[{x:1.226,y:-4.946,id:0},{x:2.509,y:-.558,id:1},{x:1.807,y:-.558,id:2},{x:1.06,y:-3.687,id:3},{x:2.509,y:5.913,id:4},{x:4.903,y:-1.956,id:5},{x:-1.361,y:-1.933,id:6},{x:-2.576,y:1.439,id:7},{x:3.553,y:.27,id:8},{x:-1.343,y:5.868,id:9},{x:1.856,y:-1.956,id:10},{x:.042,y:5.913,id:11},{x:-4.76,y:5.868,id:12},{x:-4.76,y:-5.66,id:13},{x:4.903,y:-5.66,id:14},{x:-1.343,y:-.577,id:15},{x:.042,y:5.148,id:16},{x:-2.576,y:-2.608,id:17},{x:2.555,y:-.558,id:18},{x:1.856,y:-5.66,id:19},{x:3.553,y:-1.956,id:20},{x:-1.361,y:-5.66,id:21},{x:1.856,y:-3.687,id:22},{x:2.509,y:4.114,id:23},{x:1.226,y:-3.687,id:24},{x:-2.576,y:-1.933,id:25},{x:-4.76,y:-.577,id:26},{x:2.509,y:.27,id:27},{x:-4.76,y:-2.608,id:28},{x:-1.343,y:5.148,id:29},{x:-4.76,y:1.439,id:30},{x:-1.361,y:-3.642,id:31},{x:-1.343,y:4.114,id:32},{x:-2.576,y:-.577,id:33}],DoorPoints:[{x:-2.576,y:.225,id:97},{x:-2.576,y:-1.709,id:98},{x:3.553,y:-1.754,id:99},{x:2.929,y:-1.956,id:100},{x:-1.558,y:-1.933,id:101},{x:-1.537,y:-.577,id:102},{x:-2.576,y:-.809,id:103},{x:-2.576,y:1.034,id:104},{x:3.553,y:-.764,id:105},{x:-2.431,y:-1.933,id:106},{x:-2.451,y:-.577,id:107},{x:2.015,y:-1.956,id:108},{x:3.386,y:-.585,id:109},{x:2.41,y:4.114,id:110},{x:.956,y:-3.682,id:111},{x:-.436,y:-3.658,id:112},{x:.145,y:4.114,id:113}],img_size:[828,1792],Windows:[{start_point:122,end_point:130,host:84,id:136,category:0},{start_point:123,end_point:129,host:85,id:137,category:0},{start_point:131,end_point:126,host:88,id:138,category:0},{start_point:133,end_point:124,host:89,id:139,category:0},{start_point:135,end_point:128,host:90,id:140,category:0},{start_point:132,end_point:125,host:56,id:141,category:0},{start_point:134,end_point:127,host:57,id:142,category:0}],WindowPoints:[{x:-4.76,y:-1.439,id:122},{x:-4.76,y:.629,id:123},{x:1.018,y:-5.66,id:124},{x:-2.14,y:5.868,id:125},{x:-2.14,y:-5.66,id:126},{x:2.389,y:5.913,id:127},{x:4.134,y:-5.66,id:128},{x:-4.76,y:1.304,id:129},{x:-4.76,y:-.764,id:130},{x:-3.926,y:-5.66,id:131},{x:-3.947,y:5.868,id:132},{x:-.478,y:-5.66,id:133},{x:.145,y:5.913,id:134},{x:2.306,y:-5.66,id:135}],Walls:[{start_point:3,end_point:24,id:52},{start_point:26,end_point:30,id:85},{start_point:24,end_point:22,id:53},{start_point:17,end_point:25,id:73},{start_point:27,end_point:23,id:45},{start_point:22,end_point:10,id:49},{start_point:21,end_point:19,id:89},{start_point:26,end_point:33,id:38},{start_point:31,end_point:24,id:51},{start_point:14,end_point:5,id:63},{start_point:12,end_point:9,id:56},{start_point:19,end_point:22,id:48},{start_point:33,end_point:7,id:75},{start_point:19,end_point:14,id:90},{start_point:16,end_point:11,id:81},{start_point:23,end_point:4,id:46},{start_point:29,end_point:16,id:92},{start_point:0,end_point:24,id:36},{start_point:20,end_point:8,id:79},{start_point:31,end_point:6,id:66},{start_point:32,end_point:23,id:96},{start_point:2,end_point:1,id:40},{start_point:1,end_point:18,id:41},{start_point:33,end_point:15,id:39},{start_point:30,end_point:12,id:86},{start_point:1,end_point:18,id:43},{start_point:29,end_point:9,id:69},{start_point:20,end_point:5,id:61},{start_point:27,end_point:8,id:77},{start_point:25,end_point:33,id:74},{start_point:13,end_point:21,id:88},{start_point:1,end_point:27,id:44},{start_point:13,end_point:28,id:83},{start_point:30,end_point:7,id:71},{start_point:28,end_point:26,id:84},{start_point:28,end_point:17,id:94},{start_point:25,end_point:6,id:59},{start_point:11,end_point:4,id:57},{start_point:21,end_point:31,id:65},{start_point:10,end_point:20,id:60},{start_point:32,end_point:29,id:68},{start_point:15,end_point:32,id:67}]},message:"success"}}}},onReady:function(t){},onUnload:function(){},methods:{back:function(){uni.navigateBack()},chooseImage:function(){var t=this;uni.chooseImage({count:1,complete:function(i){console.log(i),(0,e.pathToBase64)(i.tempFilePaths[0]).then((function(i){console.log(i);var n={image:i};uni.showLoading({title:"识别中..."}),t.request(t.server_url+"identify/upload",n,"POST").then((function(t){uni.hideLoading(),console.log(t),0==t.code&&(uni.showToast({title:"识别成功!"}),uni.setStorageSync("House_identify",t.data),uni.navigateTo({url:"/pages/draw/draw2D"}))}))}))}})}}};i.default=d},e61c:function(t,i,n){"use strict";n("7a82");var e=n("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.base64ToPath=function(t){return new Promise((function(i,n){if("object"===("undefined"===typeof window?"undefined":(0,d.default)(window))&&"document"in window){t=t.split(",");var e=t[0].match(/:(.*?);/)[1],r=atob(t[1]),s=r.length,p=new Uint8Array(s);while(s--)p[s]=r.charCodeAt(s);return i((window.URL||window.webkitURL).createObjectURL(new Blob([p],{type:e})))}var c=t.split(",")[0].match(/data\:\S+\/(\S+);/);c?c=c[1]:n(new Error("base64 error"));var u=function(){return Date.now()+String(a++)}()+"."+c;if("object"!==("undefined"===typeof plus?"undefined":(0,d.default)(plus)))if("object"===("undefined"===typeof wx?"undefined":(0,d.default)(wx))&&wx.canIUse("getFileSystemManager")){f=wx.env.USER_DATA_PATH+"/"+u;wx.getFileSystemManager().writeFile({filePath:f,data:o(t),encoding:"base64",success:function(){i(f)},fail:function(t){n(t)}})}else n(new Error("not support"));else{var f="_doc/uniapp_temp/"+u;if(!function(t,i){for(var n=t.split("."),e=i.split("."),d=!1,o=0;o<e.length;o++){var a=n[o]-e[o];if(0!==a){d=a>0;break}}return d}("Android"===plus.os.name?"1.9.9.80627":"1.9.9.80472",plus.runtime.innerVersion))return void plus.io.resolveLocalFileSystemURL("_doc",(function(e){e.getDirectory("uniapp_temp",{create:!0,exclusive:!1},(function(e){e.getFile(u,{create:!0,exclusive:!1},(function(e){e.createWriter((function(e){e.onwrite=function(){i(f)},e.onerror=n,e.seek(0),e.writeAsBinary(o(t))}),n)}),n)}),n)}),n);var l=new plus.nativeObj.Bitmap(u);l.loadBase64Data(t,(function(){l.save(f,{},(function(){l.clear(),i(f)}),(function(t){l.clear(),n(t)}))}),(function(t){l.clear(),n(t)}))}}))},i.pathToBase64=function(t){return new Promise((function(i,n){if("object"===("undefined"===typeof window?"undefined":(0,d.default)(window))&&"document"in window){if("function"===typeof FileReader){var e=new XMLHttpRequest;return e.open("GET",t,!0),e.responseType="blob",e.onload=function(){if(200===this.status){var t=new FileReader;t.onload=function(t){i(t.target.result)},t.onerror=n,t.readAsDataURL(this.response)}},e.onerror=n,void e.send()}var o=document.createElement("canvas"),a=o.getContext("2d"),r=new Image;return r.onload=function(){o.width=r.width,o.height=r.height,a.drawImage(r,0,0),i(o.toDataURL()),o.height=o.width=0},r.onerror=n,void(r.src=t)}"object"!==("undefined"===typeof plus?"undefined":(0,d.default)(plus))?"object"===("undefined"===typeof wx?"undefined":(0,d.default)(wx))&&wx.canIUse("getFileSystemManager")?wx.getFileSystemManager().readFile({filePath:t,encoding:"base64",success:function(t){i("data:image/png;base64,"+t.data)},fail:function(t){n(t)}}):n(new Error("not support")):plus.io.resolveLocalFileSystemURL(function(t){if(0===t.indexOf("_www")||0===t.indexOf("_doc")||0===t.indexOf("_documents")||0===t.indexOf("_downloads"))return t;if(0===t.indexOf("file://"))return t;if(0===t.indexOf("/storage/emulated/0/"))return t;if(0===t.indexOf("/")){var i=plus.io.convertAbsoluteFileSystem(t);if(i!==t)return i;t=t.substr(1)}return"_www/"+t}(t),(function(t){t.file((function(t){var e=new plus.io.FileReader;e.onload=function(t){i(t.target.result)},e.onerror=function(t){n(t)},e.readAsDataURL(t)}),(function(t){n(t)}))}),(function(t){n(t)}))}))};var d=e(n("53ca"));function o(t){var i=t.split(",");return i[i.length-1]}n("c975"),n("d3b7"),n("d9e2"),n("d401"),n("ac1f"),n("466d"),n("81b2"),n("0eb6"),n("b7ef"),n("8bd4"),n("ace4"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var a=0},ee41:function(t,i,n){"use strict";n.r(i);var e=n("b80e"),d=n.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(o);i["default"]=d.a}}]);