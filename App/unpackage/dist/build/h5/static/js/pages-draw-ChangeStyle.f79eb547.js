(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-draw-ChangeStyle"],{"12a1":function(t,i){t.exports="data:image/png;base64,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"},"2bab":function(t,i,s){var e=s("55f6");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=s("4f06").default;o("2ef6fe7f",e,!0,{sourceMap:!1,shadowMode:!1})},"3e6e":function(t,i,s){"use strict";s.d(i,"b",(function(){return e})),s.d(i,"c",(function(){return o})),s.d(i,"a",(function(){}));var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column","background-color":"#f6f6f6"}},[e("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row",height:"85vh",width:"100%"}},[e("v-uni-view",{staticStyle:{width:"40px","flex-shrink":"0",display:"flex","flex-direction":"column"}},[e("a",[e("v-uni-image",{staticStyle:{width:"30px","margin-top":"20px","border-radius":"7px","margin-left":"10px"},attrs:{src:s("12a1"),mode:"widthFix"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.back()}}})],1)]),e("v-uni-canvas",{staticStyle:{width:"80%","z-index":"1",height:"100%"},attrs:{"canvas-id":"firstCanvas",id:"firstCanvas"},on:{touchstart:function(i){arguments[0]=i=t.$handleEvent(i),t.touchstart.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticStyle:{width:"100%",height:"15vh",display:"flex"}},[-1==t.now_room?e("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"center",width:"100%"}},[e("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center"}},[e("v-uni-view",{staticClass:"menuGroup",staticStyle:{background:"transparent"}},[t._v("显示:")]),t._l(t.menu,(function(i,s){return e("v-uni-view",{staticClass:"menuGroup",class:{chooseMenu:i.check},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.change_toolbox(s)}}},[t._v(t._s(i.name))])}))],2),e("v-uni-view",{staticStyle:{"font-size":"15px","margin-right":"20px",display:"flex","align-items":"center"}},[e("v-uni-view",{staticStyle:{color:"red"}},[t._v(t._s(t.area)+"m²")])],1)],1):e("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"center",width:"100%"}},[e("v-uni-scroll-view",{staticStyle:{width:"80%","margin-left":"1%","margin-right":"1%",display:"flex","flex-direction":"row","align-items":"center"},attrs:{"scroll-x":"true"}},[e("v-uni-view",{staticStyle:{width:"100%",display:"flex","flex-direction":"row","align-items":"center"}},[e("v-uni-view",{staticClass:"menuGroup",staticStyle:{background:"transparent",color:"red"}},[t._v("风格:")]),t._l(t.StyleMenu,(function(i,s){return e("v-uni-view",{staticClass:"menuGroup",class:{chooseMenu:t.StyleNow==s},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.changeStyleType(s)}}},[t._v(t._s(i))])}))],2)],1),e("v-uni-view",{staticStyle:{"background-color":"#3b5bfe",width:"70px","margin-top":"10px",height:"30px",display:"flex","align-items":"center","justify-content":"center","margin-left":"5px","border-radius":"5px","margin-right":"5px","flex-shrink":"0","font-size":"16px",color:"white"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.start_qiehuan.apply(void 0,arguments)}}},[t._v("切换")])],1)],1)],1)},o=[]},"55f6":function(t,i,s){var e=s("24fb");i=e(!1),i.push([t.i,".menuGroupChoose[data-v-e3467d88]{background-color:#3b5bfe}.menuGroup[data-v-e3467d88]{min-width:60px;height:30px;\n\t/* border: 1px solid grey; */border-radius:10px;flex-shrink:0;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:15px;background-color:#fff;margin-left:10px}.top[data-v-e3467d88]{position:fixed;top:24px;display:flex;z-index:2;justify-content:space-between;width:95%;align-items:center;left:2%}.top_toolbox[data-v-e3467d88]{height:40px;display:flex;align-items:center;background-color:#3b5bfe;margin-left:10px;border-radius:10px;color:#fff;padding:1px;font-size:14px}.chooseMenu[data-v-e3467d88]{background-color:#3b5bfe;color:#fff}.scaleGroup[data-v-e3467d88]{width:60px;height:30px;\n\t/* border: 1px solid grey; */border-radius:10px;flex-shrink:0;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:15px;background-color:#3b5bfe;margin-left:10px;color:#fff}",""]),t.exports=i},8906:function(t,i,s){"use strict";s.r(i);var e=s("3e6e"),o=s("e876");for(var n in o)["default"].indexOf(n)<0&&function(t){s.d(i,t,(function(){return o[t]}))}(n);s("9eb6");var a=s("f0c5"),h=Object(a["a"])(o["default"],e["b"],e["c"],!1,null,"e3467d88",null,!1,e["a"],void 0);i["default"]=h.exports},"9eb6":function(t,i,s){"use strict";var e=s("2bab"),o=s.n(e);o.a},cb29:function(t,i,s){var e=s("23e7"),o=s("81d5"),n=s("44d2");e({target:"Array",proto:!0},{fill:o}),n("fill")},e45a:function(t,i,s){"use strict";s("7a82");var e=s("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=e(s("5530"));s("14d9"),s("e9c4"),s("cb29");var n={data:function(){return{area:0,showtext:!0,ctx:null,canvasW:0,canvasH:420,result:null,minx:0,maxx:0,miny:0,maxy:0,screenWidth:700,screenHeight:300,pingyi_x:1,fangda_x:2,pingyi_y:1,fangda_y:2,nowList:0,draw_deatil:{start:{},end:{}},store_draw_detail:[],store_draw_detail_length:0,menu:[{name:"墙",check:!0},{name:"门",check:!0},{name:"窗",check:!0},{name:"标签",check:!0}],RoomMenu:["客厅","卧室","厨房","阳台","卫生间","洗漱间"],StyleMenu:["东南亚","现代","日式","复古","地中海","韩式","轻奢华","极简主义","工业","北欧","美式","新中式","欧洲","新古典主义","中国风","明清","其他","儿童","古典欧洲"],StyleNow:0,NowRoomType:0,root:null,house:null,now_room:0,touching:!1}},onReady:function(t){this.root=uni.getStorageSync("House_identify"),console.log(this.root),this.init()},methods:{start_qiehuan:function(){if(-1!=this.now_room){for(var t={style:this.StyleMenu[this.StyleNow],ChangeStyle:[],now_room:this.now_room},i=0;i<this.house.Room.length;i++)this.house.Room[i].checked&&t.ChangeStyle.push(this.house.Room[i].roomId);console.log(t),window.location.href="uniwebview://ChangeStyle"+JSON.stringify(t),uni.showLoading({title:"切换中"}),setTimeout((function(){uni.hideLoading(),uni.redirectTo({url:"/pages/navigation/ShouYe/ShouYe"})}),2e3)}else uni.showToast({title:"请选择房间!",icon:"none"})},init:function(){this.result=(0,o.default)({},this.root.DWW),this.house=(0,o.default)({},this.root.house),uni.setStorageSync("Fangwu",this.result),console.log(this.result),uni.setStorageSync("result_file",this.result),this.ctx=uni.createCanvasContext("firstCanvas"),this.get_area(),this.get_fangsuo(),this.draw_All_Wall(),this.draw_All_Door(),this.draw_All_Window(),this.AddHouseName(),this.init_check(),this.FillRoom(),this.ctx.draw()},init_check:function(){for(var t=0;t<this.house.Room.length;t++)this.house.Room[t]=(0,o.default)((0,o.default)({},this.house.Room[t]),{},{checked:!1})},get_area:function(){null!=this.root.areaAfterCalcuate&&void 0!=this.root.areaAfterCalcuate&&0!=this.root.areaAfterCalcuate?this.area=Math.floor(100*this.root.areaAfterCalcuate)/100:this.area=Math.floor(100*this.root.house.House.area)/100},changeStyleType:function(t){this.StyleNow=t,this.house.Room[this.now_room].style=this.StyleMenu[t]},CalDistance:function(t,i){var s=i.x-t.x,e=i.y-t.y,o=Math.sqrt(s*s+e*e);return o},GetWallsPointmaxId:function(){for(var t=-100,i=0;i<this.result.WallPoints.length;i++)this.result.WallPoints[i].id>t&&(t=this.result.WallPoints[i].id);return t},AddWallToSave:function(){var t=this.GetWallsPointmaxId()+10;this.result.WallPoints.push({x:this.NiFangsuo_x(this.draw_deatil.start.x),y:this.Nifangsuo_y(this.draw_deatil.start.y),id:t}),this.result.WallPoints.push({x:this.NiFangsuo_x(this.draw_deatil.end.x),y:this.Nifangsuo_y(this.draw_deatil.end.y),id:t+1}),this.result.Walls.push({start_point:t,end_point:t+1,id:t+2})},RoMoveAddedWall:function(){this.result.WallPoints.pop(),this.result.WallPoints.pop(),this.result.Walls.pop()},AddHouseName:function(){if(0!=this.showtext){this.ctx.setFontSize(10);for(var t=0;t<this.root.house.Room.length;t++){var i=this.fangsuo_x(this.root.house.Room[t].center.x),s=this.fangsuo_y(this.root.house.Room[t].center.y);this.now_room==t?this.ctx.setFillStyle("red"):this.ctx.setFillStyle("#b3b3b3"),this.ctx.fillText(this.root.house.Room[t].name,i,s)}}},save_qiang:function(){var t={house_json:"",picture:""};console.log(t),this.request(this.server_url+"house/change",t,"POST").then((function(t){console.log(t),0==t.code&&uni.showToast({title:"保存成功"})}))},touchstart:function(t){console.log(t.touches[0]);var i=this.GetRoomId(t.touches[0]);-1!=i&&(this.house.Room[i].checked=!0),console.log(this.house.Room),this.change_toolbox(-1)},isPointInPolygon:function(t,i){for(var s=t.x,e=t.y,o=this.house.Room[i].point,n=!1,a=o.length-1,h=0;h<o.length;h++){var r=this.fangsuo_x(o[h].x),l=this.fangsuo_y(o[h].y),c=this.fangsuo_x(o[a].x),u=this.fangsuo_y(o[a].y),d=l>e!=u>e&&s<(c-r)*(e-l)/(u-l)+r;d&&(n=!n),a=h}return n},GetRoomId:function(t){for(var i=0;i<this.house.Room.length;i++)if(this.isPointInPolygon(t,i)){for(var s=0;s<this.RoomMenu.length;s++)if(this.RoomMenu[s]==this.house.Room[i].name){this.NowRoomType=s,null!=this.house.Room[i].style&&void 0!=this.house.Room[i].style&&""!=this.house.Room[i].style?this.StyleNow=this.house.Room[i].style:this.StyleNow=0;break}return i}return-1},back:function(){uni.reLaunch({url:"/pages/navigation/ShouYe/ShouYe"})},change_toolbox:function(t){if(-1!=t&&(this.menu[t].check=!this.menu[t].check),this.showtext=this.menu[3].check,this.menu[0].check&&this.draw_All_Wall(),this.menu[1].check&&this.draw_All_Door(),this.menu[2].check&&this.draw_All_Window(),this.FillRoom(),this.touching)for(var i=0;i<this.store_draw_detail_length+1&&i<this.store_draw_detail.length;i++){var s=this.store_draw_detail[i];this.ctx.beginPath(),this.ctx.moveTo(s.start.x,s.start.y),this.ctx.lineTo(s.end.x,s.end.y),this.ctx.setLineWidth(3),this.ctx.setStrokeStyle("black"),this.ctx.stroke()}this.AddHouseName(),this.ctx.save(),this.ctx.draw()},FillRoom:function(){for(var t=0;t<this.house.Room.length;t++)if(console.log(t+" "+this.house.Room[t].checked),this.house.Room[t].checked){this.ctx.beginPath();var i=this.house.Room[t].point;this.ctx.moveTo(this.fangsuo_x(i[0].x),this.fangsuo_y(i[0].y));for(var s=1;s<i.length;s++)this.ctx.lineTo(this.fangsuo_x(i[s].x),this.fangsuo_y(i[s].y));this.ctx.lineTo(this.fangsuo_x(i[0].x),this.fangsuo_y(i[0].y)),this.ctx.setFillStyle("#88b9f2"),this.ctx.fill(),this.ctx.setFillStyle("black"),this.ctx.stroke()}},get_fangsuo:function(){this.result.img_size[0]<this.result.img_size[1]&&this.xuanzhuan_x_y();for(var t=-100,i=1e4,s=-100,e=1e4,o=0;o<this.result.WallPoints.length;o++)this.result.WallPoints[o].x>t&&(t=this.result.WallPoints[o].x),this.result.WallPoints[o].x<i&&(i=this.result.WallPoints[o].x),this.result.WallPoints[o].y>s&&(s=this.result.WallPoints[o].y),this.result.WallPoints[o].y<e&&(e=this.result.WallPoints[o].y);this.maxx=t,this.minx=i,this.maxy=s,this.miny=e,this.screenWidth=this.screen_height,this.screenHeight=this.screen_width,console.log("Height:"+this.screenHeight+"width:"+this.screenWidth),this.pingyi_x=.25*this.screenWidth-(t+i)/2,this.fangda_x=.4*this.screenWidth/(t-i),this.pingyi_y=.4*this.screenHeight-(s+e)/2,this.fangda_y=.75*this.screenHeight/(s-e),this.fangda_x=Math.min(this.fangda_x,this.fangda_y),this.fangda_y=this.fangda_x,console.log(this.fangda_x)},xuanzhuan_x_y:function(){for(var t=0;t<this.result.WallPoints.length;t++){var i=this.result.WallPoints[t].x;this.result.WallPoints[t].x=this.result.WallPoints[t].y,this.result.WallPoints[t].y=i}for(t=0;t<this.result.DoorPoints.length;t++){i=this.result.DoorPoints[t].x;this.result.DoorPoints[t].x=this.result.DoorPoints[t].y,this.result.DoorPoints[t].y=i}for(t=0;t<this.result.WindowPoints.length;t++){i=this.result.WindowPoints[t].x;this.result.WindowPoints[t].x=this.result.WindowPoints[t].y,this.result.WindowPoints[t].y=i}},draw_All_Window:function(){this.ctx.restore();for(var t=0;t<this.result.Windows.length;t++){this.ctx.beginPath();var i=this.get_Windowspoint(this.result.Windows[t].start_point),s=this.get_Windowspoint(this.result.Windows[t].end_point),e="普通窗";1==this.result.Windows[t].category?e="落地窗":2==this.result.Windows[t].category&&(e="飘窗"),this.showtext&&this.ctx.fillText(e,(this.fangsuo_x(i.x)+this.fangsuo_x(s.x))/2,(this.fangsuo_y(i.y)+this.fangsuo_y(s.y))/2+10),this.ctx.setFontSize(10),this.ctx.moveTo(this.fangsuo_x(i.x),this.fangsuo_y(i.y)),this.ctx.lineTo(this.fangsuo_x(s.x),this.fangsuo_y(s.y)),this.ctx.setLineWidth(3),this.ctx.setStrokeStyle("#3b5bfe"),this.ctx.stroke()}this.ctx.save()},get_Windowspoint:function(t){for(var i=0;i<this.result.WindowPoints.length;i++)if(this.result.WindowPoints[i].id==t)return this.result.WindowPoints[i]},draw_All_Door:function(){this.ctx.restore();for(var t=0;t<this.result.Doors.length;t++){this.ctx.beginPath();var i="单开门",s=this.result.Doors[t].category;1==s?i="双开门":2==s?i="子母门":3==s&&(i="移门");var e=this.get_Doorspoint(this.result.Doors[t].start_point),o=this.get_Doorspoint(this.result.Doors[t].end_point);this.showtext&&this.ctx.fillText(i,(this.fangsuo_x(e.x)+this.fangsuo_x(o.x))/2,(this.fangsuo_y(e.y)+this.fangsuo_y(o.y))/2+10),this.ctx.setFontSize(10);var n=this.fangsuo_x(e.x),a=this.fangsuo_y(e.y),h=this.fangsuo_x(o.x),r=this.fangsuo_y(o.y);if(this.ctx.moveTo(n,a),this.ctx.lineTo(h,r),0==s){var l=h+(r-a),c=r+(n-h),u=Math.atan2(a-r,n-h),d=Math.atan2(c-r,l-h);this.ctx.moveTo(h,r),this.ctx.lineTo(l,c),this.ctx.setLineWidth(2),this.ctx.setStrokeStyle("#caa473"),this.ctx.stroke(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(h,r,this.CalDistance({x:n,y:a},{x:h,y:r}),u,d)}else if(1==s){var f=(n+h)/2,x=(a+r)/2,g=this.CalDistance({x:n,y:a},{x:h,y:r}),y=n+(a-x),v=a+(f-n),p=h+(x-r),_=r+(h-f);this.ctx.moveTo(n,a),this.ctx.lineTo(y,v);var m=Math.atan2(x-r,f-h),w=Math.atan2(_-r,p-h);this.ctx.setLineWidth(2),this.ctx.setStrokeStyle("#caa473"),this.ctx.stroke(),this.ctx.save(),this.ctx.beginPath(),Math.abs(w-m)<Math.PI?this.ctx.arc(h,r,g/2,m,w):this.ctx.arc(h,r,g/2,m,w,!0),this.ctx.setLineWidth(2),this.ctx.setStrokeStyle("#caa473"),this.ctx.stroke(),this.ctx.save(),this.ctx.beginPath(),this.ctx.moveTo(h,r),this.ctx.lineTo(p,_);var A=Math.atan2(x-a,f-n),b=Math.atan2(v-a,y-n);this.ctx.setLineWidth(2),this.ctx.setStrokeStyle("#caa473"),this.ctx.stroke(),this.ctx.save(),this.ctx.beginPath(),Math.abs(b-A)<Math.PI?this.ctx.arc(n,a,g/2,A,b):this.ctx.arc(n,a,g/2,A,b,!0)}this.ctx.setLineWidth(2),this.ctx.setStrokeStyle("#caa473"),this.ctx.stroke()}this.ctx.save()},get_Doorspoint:function(t){for(var i=0;i<this.result.DoorPoints.length;i++)if(this.result.DoorPoints[i].id==t)return this.result.DoorPoints[i]},draw_All_Wall:function(){for(var t=0;t<this.result.Walls.length;t++)if(1!=this.result.Walls[t].isDoor){this.ctx.beginPath();var i=this.get_wallspoint(this.result.Walls[t].start_point),s=this.get_wallspoint(this.result.Walls[t].end_point);this.ctx.moveTo(this.fangsuo_x(i.x),this.fangsuo_y(i.y)),this.ctx.lineTo(this.fangsuo_x(s.x),this.fangsuo_y(s.y)),this.ctx.setLineWidth(3),this.ctx.setStrokeStyle("black"),this.ctx.stroke()}this.ctx.save()},get_wallspoint:function(t){for(var i=0;i<this.result.WallPoints.length;i++)if(this.result.WallPoints[i].id==t)return this.result.WallPoints[i]},fangsuo_x:function(t){return t*this.fangda_x+this.pingyi_x},fangsuo_y:function(t){return t*this.fangda_y+this.pingyi_y},NiFangsuo_x:function(t){return(t-this.pingyi_x)/this.fangda_x},Nifangsuo_y:function(t){return(t-this.pingyi_y)/this.fangda_y}}};i.default=n},e876:function(t,i,s){"use strict";s.r(i);var e=s("e45a"),o=s.n(e);for(var n in e)["default"].indexOf(n)<0&&function(t){s.d(i,t,(function(){return e[t]}))}(n);i["default"]=o.a}}]);